<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PUBG Blue Zone</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
            padding: 20px;
        }
        #timer {
            font-size: 24px;
            margin: 20px;
        }
        #alert {
            font-size: 48px;
            color: red;
            font-weight: bold;
            margin: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <h1>PUBG 毒圈计时器</h1>
    <div id="timer">等待游戏开始...</div>
    <div id="alert">毒圈即将缩小！请尽快进入安全区！</div>

    <script>
        // 毒圈数据：等待时间和缩圈时间（单位：秒）
        const circles = [
            { waitTime: 300, shrinkTime: 180 }, // 第一圈
            { waitTime: 120, shrinkTime: 90 },  // 第二圈
            { waitTime: 90, shrinkTime: 60 },   // 第三圈
            { waitTime: 60, shrinkTime: 60 },   // 第四圈
            { waitTime: 60, shrinkTime: 30 },   // 第五圈
            { waitTime: 60, shrinkTime: 30 },   // 第六圈
            { waitTime: 60, shrinkTime: 30 },   // 第七圈
            { waitTime: 30, shrinkTime: 30 }    // 第八圈
        ];

        let currentCircle = 0; // 当前毒圈索引
        let totalTime = 0; // 当前毒圈总时间（等待+缩圈）
        let timeLeft = 0; // 当前剩余时间
        let isWaiting = true; // 是否在等待阶段
        let alertShown = false; // 是否显示提示

        const timerDisplay = document.getElementById('timer');
        const alertDisplay = document.getElementById('alert');

        // 格式化时间（秒 -> 分:秒）
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // 更新计时器
        function updateTimer() {
            if (currentCircle >= circles.length) {
                timerDisplay.textContent = '游戏结束！';
                return;
            }

            const circle = circles[currentCircle];
            totalTime = isWaiting ? circle.waitTime : circle.shrinkTime;
            timerDisplay.textContent = `第 ${currentCircle + 1} 圈 - ${isWaiting ? '等待阶段' : '缩圈阶段'} - 剩余时间: ${formatTime(timeLeft)}`;

            // 检查是否在毒圈结束前 30 秒
            if (timeLeft <= 30 && !alertShown) {
                alertDisplay.style.display = 'block';
                alertShown = true;
            }

            if (timeLeft <= 0) {
                if (isWaiting) {
                    isWaiting = false;
                    timeLeft = circle.shrinkTime;
                    alertShown = false;
                    alertDisplay.style.display = 'none';
                } else {
                    currentCircle++;
                    isWaiting = true;
                    alertShown = false;
                    alertDisplay.style.display = 'none';
                    if (currentCircle < circles.length) {
                        timeLeft = circles[currentCircle].waitTime;
                    }
                }
            }

            timeLeft--;
        }

        // 每秒更新一次
        function startTimer() {
            timeLeft = circles[0].waitTime;
            setInterval(updateTimer, 1000);
        }

        // 启动计时器
        startTimer();
    </script>
</body>
</html>